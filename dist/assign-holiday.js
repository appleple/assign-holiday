!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AssignHoliday=e():t.AssignHoliday=e()}(self,(function(){return function(){"use strict";var t={d:function(e,o){for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{default:function(){return l}});const o=(t,e)=>{t.classList?t.classList.add(e):t.className+=` ${e}`},a=(t,e)=>((t,e)=>t.classList?t.classList.contains(e):new RegExp(`(^| )${e}( |$)`,"gi").test(t.className))(t,e)?t:t.querySelector(`.${e}`),i=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),s={holidayClass:"assign-holiday",dateAttribute:"data-assign-holiday-date",holidayTitleClass:"assign-holiday-title",holidayTitleTag:"",today:!1,todayClass:"assign-holiday-today",addHolidayLabel:!0,holidayLabel:"Hol.",holidayLabelPosition:"replace",weekLabelClass:"assign-holiday-week-label",weekLabels:["Mon.","Tue.","Wed.","Thu.","Fri.","Sat.","Sun."],holidayTooltipClass:"assign-holiday-tooltip",holidayTooltipTextClass:"assign-holiday-tooltip-text"};class l{constructor(t,e){this.option={...s,...e},this.elements="string"==typeof t?document.querySelectorAll(t):t,this.data={}}run(t){this.data=t||this.data,[].map.call(this.elements,(t=>{const e=t.querySelectorAll(`[${this.option.dateAttribute}]`);[].map.call(e,(t=>{const e=t.getAttribute(this.option.dateAttribute),s=this.isHoliday(e),l=i("object"==typeof s[1]?s[1].title:s[1]);if(s[0]){const e="object"==typeof s[1]&&s[1].className?s[1].className:this.option.holidayClass;o(t,i(e));const n=a(t,this.option.holidayTitleClass);n&&this.addHolidayTitle(n,l);const d=a(t,this.option.weekLabelClass);if(this.option.addHolidayLabel&&d){const t=new RegExp(`${this.option.weekLabels.join("|")}`);this.addHolidayLabel(d,t)}}this.option.today&&this.isToday(e)&&o(t,this.option.todayClass);const n=a(t,this.option.holidayTooltipClass);n&&this.addTooltip(n,l)}))}))}isHoliday(t){for(const e of Object.keys(this.data))if(e===t)return[!0,this.data[e]];return[!1,""]}isToday(t){return((t,e)=>(e=(e=(e=(e=(e=(e=e.replace(/yyyy/g,t.getFullYear())).replace(/MM/g,`0${t.getMonth()+1}`.slice(-2))).replace(/dd/g,`0${t.getDate()}`.slice(-2))).replace(/HH/g,`0${t.getHours()}`.slice(-2))).replace(/mm/g,`0${t.getMinutes()}`.slice(-2))).replace(/ss/g,`0${t.getSeconds()}`.slice(-2))).replace(/SSS/g,`00${t.getMilliseconds()}`.slice(-3)))(new Date,"yyyy-MM-dd")===t}addHolidayTitle(t,e){const o=i(this.option.holidayTitleTag),a=o?`<${o}>${e}</${o}>`:e;t.insertAdjacentHTML("beforeend",a)}addHolidayLabel(t,e){switch(this.option.holidayLabelPosition){case"replace":t.textContent=t.textContent.replace(e,this.option.holidayLabel);break;case"before":case"after":const l=t.textContent.search(e);if(-1===l)return;t.textContent=(o=t.textContent,a=this.option.holidayLabelPosition,i=l,s=this.option.holidayLabel,"before"===a?o.slice(0,i)+s+o.slice(i):"after"===a&&o.slice(0,i+1)+s+o.slice(i+1))}var o,a,i,s}addTooltip(t,e){t.insertAdjacentHTML("afterbegin",`<span class="${this.option.holidayTooltipTextClass}">${e}</span>`)}}return e.default}()}));