!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AssignHoliday=t():e.AssignHoliday=t()}(self,(function(){return function(){"use strict";var e={567:function(e,t,a){a.d(t,{default:function(){return n}});const s=(e,t)=>{e.classList?e.classList.add(t):e.className+=` ${t}`},o=(e,t)=>((e,t)=>e.classList?e.classList.contains(t):new RegExp(`(^| )${t}( |$)`,"gi").test(e.className))(e,t)?e:e.querySelector(`.${t}`),i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),l={holidayClass:"assign-holiday",dateAttribute:"data-assign-holiday-date",holidayTitleClass:"assign-holiday-title",holidayTitleTag:"",holidayTitleAppendClass:"",today:!1,todayClass:"assign-holiday-today",addHolidayLabel:!0,holidayLabel:"Hol.",holidayLabelPosition:"replace",weekLabelClass:"assign-holiday-week-label",weekLabels:["Mon.","Tue.","Wed.","Thu.","Fri.","Sat.","Sun."],holidayTooltipClass:"assign-holiday-tooltip",holidayTooltipTextClass:"assign-holiday-tooltip-text"};class n{constructor(e,t){this.option={...l,...t},this.elements="string"==typeof e?document.querySelectorAll(e):e,this.data={}}run(e){this.data=e||this.data,[].map.call(this.elements,(e=>{const{dateAttribute:t}=this.option,a=e.querySelectorAll(`[${t}]`);[].map.call(a,(e=>{const{today:a}=this.option,l=e.getAttribute(t),n=this.isHoliday(l),d=i("object"==typeof n[1]?n[1].title:n[1]);if(n[0]){const{holidayClass:t,holidayTitleClass:a,weekLabelClass:l,addHolidayLabel:r,holidayTooltipClass:c}=this.option,y="object"==typeof n[1]&&n[1].className?n[1].className:t;s(e,i(y));const p=o(e,a);p&&this.addHolidayTitle(p,d);const h=o(e,l);if(r&&h){const{weekLabels:e}=this.option,t=new RegExp(`${e.join("|")}`);this.addHolidayLabel(h,t)}const u=o(e,c);u&&this.addTooltip(u,d)}if(a&&this.isToday(l)){const{todayClass:t}=this.option;s(e,t)}}))}))}isHoliday(e){for(const t of Object.keys(this.data))if(t===e)return[!0,this.data[t]];return[!1,""]}isToday(e){return((e,t)=>(t=(t=(t=(t=(t=(t=t.replace(/yyyy/g,e.getFullYear())).replace(/MM/g,`0${e.getMonth()+1}`.slice(-2))).replace(/dd/g,`0${e.getDate()}`.slice(-2))).replace(/HH/g,`0${e.getHours()}`.slice(-2))).replace(/mm/g,`0${e.getMinutes()}`.slice(-2))).replace(/ss/g,`0${e.getSeconds()}`.slice(-2))).replace(/SSS/g,`00${e.getMilliseconds()}`.slice(-3)))(new Date,"yyyy-MM-dd")===e}addHolidayTitle(e,t){const{holidayTitleTag:a,holidayTitleAppendClass:s}=this.option,o=i(a),l=o?`<${o}${s?` class="${s}"`:""}>${t}</${o}>`:t;e.insertAdjacentHTML("beforeend",l)}addHolidayLabel(e,t){const{holidayLabelPosition:a,holidayLabel:s}=this.option;switch(a){case"replace":e.textContent=e.textContent.replace(t,s);break;case"before":case"after":const d=e.textContent.search(t);if(-1===d)return;e.textContent=(o=e.textContent,l=d,n=s,"before"===(i=a)?o.slice(0,l)+n+o.slice(l):"after"===i&&o.slice(0,l+1)+n+o.slice(l+1))}var o,i,l,n}addTooltip(e,t){const{holidayTooltipTextClass:a}=this.option;e.style.position="relative",e.style.cursor="pointer",e.insertAdjacentHTML("afterbegin",`<span class="${a}">${t}</span>`)}}}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,a),i.exports}a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var s,o={};return s=a(567),jQuery.fn.assignHoliday=function(e){return new s.default(this,e)},o.default}()}));